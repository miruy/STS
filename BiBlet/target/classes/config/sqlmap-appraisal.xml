<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="AppraisalDAO">
<!-- 	<select id="findAllBook" resultType="bookInfo"> -->
<!-- 		SELECT * FROM bookinfo ORDER BY isbn -->
<!-- 	</select> -->

<!-- 	<select id="bookDetail" parameterType="String" resultType="bookInfo"> -->
<!-- 		SELECT * FROM bookinfo WHERE isbn=#{isbn, jdbcType=VARCHAR} -->
<!-- 	</select> -->
	
	<insert id="writeComment" parameterType="appraisal">
	INSERT INTO appraisal(appraisal_num, star, book_comment, start_date, end_date, co_prv, book_status_num)
	VALUES(appraisal_SEQ.nextval, #{star}, #{book_comment}, #{start_date}, #{end_date}, #{co_prv}, #{book_status_num})
	</insert>
	
	
<!-- 	<select id="findAllComment" parameterType="String" resultType="allCommentByBookCmd"> -->
<!-- 	 MEMBER,APPRAISAL 조인   --> 
<!-- 	SELECT  -->
<!-- 	 appraisal.appraisal_num, -->
<!--  	 appraisal.star, -->
<!--  	 appraisal.book_comment, -->
<!--  	 appraisal.start_date, -->
<!--  	 appraisal.end_date, -->
<!--  	 member.mem_id, -->
<!--  	 member.mem_pic -->
<!-- 	FROM bookinfo -->
<!-- 	INNER JOIN appraisal ON appraisal.isbn = bookinfo.isbn -->
<!-- 	INNER JOIN member ON member.mem_num = appraisal.mem_num -->
<!-- 	WHERE bookinfo.isbn=#{isbn} AND appraisal.co_prv='공개' -->
<!-- 	</select> -->
	
<!-- 	<select id="commentCount" parameterType="String" resultType="Integer"> -->
<!-- 	SELECT  -->
<!-- 	COUNT(appraisal.book_comment) -->
<!-- 	FROM appraisal -->
<!-- 	INNER JOIN bookinfo ON bookinfo.isbn = appraisal.isbn -->
<!-- 	WHERE bookinfo.isbn=#{isbn} AND appraisal.co_prv='공개' -->
<!-- 	</select> -->


	<!-- <select id="search" parameterType="HashMap" resultType="book"> -->
	<!-- <if test="option == 'bookname'"> -->
	<!-- SELECT * FROM book WHERE bookname LIKE '%'||#{keyword}||'%' -->
	<!-- </if> -->
	<!-- <if test="option == 'author'"> -->
	<!-- SELECT * FROM book WHERE author LIKE '%'||#{keyword}||'%' -->
	<!-- </if> -->
	<!-- <if test="option == 'pubcompany'"> -->
	<!-- SELECT * FROM book WHERE pubcompany LIKE '%'||#{keyword}||'%' -->
	<!-- </if> -->
	<!-- </select> -->

	<!-- <select id="findByIsbn" parameterType="String" resultType="book"> -->
	<!-- SELECT * FROM book WHERE isbn=#{isbn} -->
	<!-- </select> -->
</mapper>















